(function(){var a=false;var b=function(){this.config={defaultWidth:560,defaultHeight:315,playerFrameBorder:0,allowFullScreen:true};this.config=this.mergeObjects(this.config,window["_hoa_config"]||{});this.bindOnload(this.onDomLoaded.bind(this))};b.prototype.onDomLoaded=function(a){var b=document.getElementsByClassName("onair"),c;for(c=0;c<b.length;c++){if(b[c].getAttribute("data-uid")){var d=b[c].getAttribute("data-uid");var e=b[c].getAttribute("data-width")||this.config.defaultWidth;var f=b[c].getAttribute("data-height")||this.config.defaultHeight;this.loadVideoPlayer(b[c],d,e,f)}}};b.prototype.loadVideoPlayer=function(a,b,c,d){this.fetchUserFeed(b,function(b,e){var e=e.feed.entry;for(var f=0;f<e.length;f++){if(e[f].yt$status.$t=="active"||e[f].yt$status.$t=="completed"){var g=e[f]}}if(g&&g.content){var h=g.content.src.split("/");var i=document.createElement("iframe");i.src="http://www.youtube.com/embed/"+h[h.length-1].split("?")[0];i.width=c;i.height=d;i.setAttribute("frameborder",this.config.playerFrameBorder);i.setAttribute("allowfullscreen",this.config.allowFullScreen);a.parentNode.replaceChild(i,a)}}.bind(this))};b.prototype.fetchUserFeed=function(a,b){var c="__YTLiveStreams_"+a+"_"+Math.floor(Math.random()*1000001);this.awaitLoadResonse(c,b);var d="https://gdata.youtube.com/feeds/api/users/"+a+"/live/events?v=2&alt=json-in-script&callback="+c;var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=d;var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,f)};b.prototype.awaitLoadResonse=function(a,b){window[a]=function(a){b(null,a)}};b.prototype.bindOnload=function(b){if(a==true){b()}if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){b();a=true},false);return}if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){b();a=true}});return}window.onload=b};b.prototype.mergeObjects=function(){var a={},b,c;for(b=0;b<arguments.length;b++){for(c in arguments[b]){a[c]=arguments[b][c]}}return a};window["_hoa_instance_"]=new b})()